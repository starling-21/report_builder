{% extends 'reports/base.html' %}

{#TEST include#}
{% include "django/forms/widgets/input.html" %}

{% block content %}
    <p>Edit servicemembers chain:</p>

    <form method="POST">{% csrf_token %}

    {# serviceman_chain as dict   #}
{#        {% for id, servicemember in serviceman_chain.items %}#}
{#            <input id="edit_{{ id }}" type="submit" class="btn btn-light btn-sm" name="{{ id }}" value="edit"/>#}
{#            {{ servicemember.rank.name }} {{ servicemember }}#}
{##}
{#            {% if swap_id is not None and swap_id == id %}#}
{#                <input id="input_for_edit_{{ id }}">#}
{#                <input type="submit" class="btn btn-light btn-sm" name="{{ id }}" value="Ok"/>#}
{#            {% endif %}#}
{#            <hr>#}
{#        {% endfor %}#}

{#   serviceman_chain as list   #}
        {% for servicemember in serviceman_chain %}
            <input type="submit" class="btn btn-light btn-sm" name="{{ servicemember.id }}" value="edit"/>
            {{ servicemember.rank.name }} {{ servicemember }}

            {% if swap_id is not None and swap_id == servicemember.id %}
{#                <input name="modified{{ servicemember.id }}">#}
                <input name="swap_id">
                <input type="hidden" name="old_id" value="{{ servicemember.id }}"/>
                <input type="submit" class="btn btn-light btn-sm" name="{{ id }}" value="Ok"/>
            {% endif %}
            <hr>
        {% endfor %}

        <input type="submit" class="btn btn-info" name="submit_chain_editting" value="Next"/>
    </form>


{% endblock %}